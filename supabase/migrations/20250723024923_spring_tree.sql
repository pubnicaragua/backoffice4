/*
  # Add More Ventas Data for Charts
  
  1. Add extensive ventas data for 2024 and 2025
  2. Ensure charts have enough data to display properly
  3. Add venta_items for proper calculations
*/

-- Insert extensive ventas data for 2024 (previous period)
INSERT INTO ventas (id, empresa_id, sucursal_id, folio, tipo_dte, metodo_pago, total, fecha) VALUES
-- January 2024
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-001', 'boleta', 'efectivo', 25000, '2024-01-15 10:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-002', 'factura', 'tarjeta', 35000, '2024-01-20 14:15:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2024-003', 'boleta', 'efectivo', 18000, '2024-01-25 16:45:00'),

-- February 2024
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-004', 'boleta', 'tarjeta', 42000, '2024-02-10 11:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2024-005', 'factura', 'efectivo', 28000, '2024-02-18 13:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-006', 'boleta', 'tarjeta', 31000, '2024-02-28 15:10:00'),

-- March 2024
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-007', 'factura', 'efectivo', 45000, '2024-03-05 09:45:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2024-008', 'boleta', 'tarjeta', 22000, '2024-03-15 12:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-009', 'boleta', 'efectivo', 38000, '2024-03-25 17:30:00'),

-- April 2024
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-010', 'factura', 'tarjeta', 52000, '2024-04-08 10:15:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2024-011', 'boleta', 'efectivo', 29000, '2024-04-18 14:45:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-012', 'boleta', 'tarjeta', 41000, '2024-04-28 16:20:00'),

-- May 2024
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-013', 'factura', 'efectivo', 48000, '2024-05-10 11:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2024-014', 'boleta', 'tarjeta', 33000, '2024-05-20 13:15:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2024-015', 'boleta', 'efectivo', 27000, '2024-05-30 15:45:00'),

-- Insert extensive ventas data for 2025 (current period)
-- January 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-001', 'boleta', 'efectivo', 32000, '2025-01-12 10:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-002', 'factura', 'tarjeta', 45000, '2025-01-22 14:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-003', 'boleta', 'efectivo', 28000, '2025-01-28 16:15:00'),

-- February 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-004', 'factura', 'tarjeta', 55000, '2025-02-08 11:45:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-005', 'boleta', 'efectivo', 38000, '2025-02-18 13:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-006', 'boleta', 'tarjeta', 42000, '2025-02-25 15:30:00'),

-- March 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-007', 'factura', 'efectivo', 62000, '2025-03-05 09:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-008', 'boleta', 'tarjeta', 35000, '2025-03-15 12:45:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-009', 'boleta', 'efectivo', 48000, '2025-03-25 17:15:00'),

-- April 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-010', 'factura', 'tarjeta', 68000, '2025-04-10 10:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-011', 'boleta', 'efectivo', 41000, '2025-04-20 14:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-012', 'boleta', 'tarjeta', 53000, '2025-04-28 16:45:00'),

-- May 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-013', 'factura', 'efectivo', 72000, '2025-05-08 11:15:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-014', 'boleta', 'tarjeta', 46000, '2025-05-18 13:40:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-015', 'boleta', 'efectivo', 39000, '2025-05-28 15:20:00'),

-- June 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-016', 'factura', 'tarjeta', 58000, '2025-06-05 10:45:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-017', 'boleta', 'efectivo', 34000, '2025-06-15 12:30:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-018', 'boleta', 'tarjeta', 47000, '2025-06-25 16:10:00'),

-- July 2025
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-019', 'factura', 'efectivo', 65000, '2025-07-08 09:20:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', 'V2025-020', 'boleta', 'tarjeta', 43000, '2025-07-18 14:50:00'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'V2025-021', 'boleta', 'efectivo', 51000, '2025-07-28 17:25:00')

ON CONFLICT DO NOTHING;

-- Add corresponding venta_items for proper calculations
INSERT INTO venta_items (venta_id, producto_id, cantidad, precio_unitario, subtotal)
SELECT 
  v.id,
  '00000000-0000-0000-0000-000000000001',
  FLOOR(RANDOM() * 10) + 1,
  FLOOR(RANDOM() * 3000) + 1000,
  v.total
FROM ventas v
WHERE v.fecha >= '2024-01-01'
ON CONFLICT DO NOTHING;